<div class="page-header">
  <h1>{{aihe.name}}</h1>
</div>

<p>
  {{aihe.description}}
</p>

<h2>{{aihe.Messages.length}} <span ng-pluralize count="aihe.Messages.length" when="{ '0': ' viestiä', 'one': ' viesti', 'other': ' viestiä' }"></span></h2>

<ul class="media-list" ng-repeat="viesti in aihe.Messages">
  <li class="media">
    <div class="media-body">
      <h4 class="media-heading">
        <a href="#/messages/{{viesti.id}}">{{viesti.title}}</a>
      </h4>

      <p>
        {{viesti.content}}
      </p>

      <p class="text-muted">
        {{viesti.User.username}}, {{viesti.createdAt | date:'dd.MM.yyyy HH:mm:ss'}}
      </p>
    </div>
  </li>
</ul>

<h2 ng-show="userLoggedIn">Lisää oma viestisi</h2>

<form ng-show="userLoggedIn">
  <div class="form-group">
    <label>Otsikko</label>
    <input type="text" class="form-control" ng-model="newTitle">
  </div>

  <div class="form-group">
    <label>Viesti</label>
    <textarea class="form-control" ng-model="newContent"></textarea>
  </div>
    <button class="btn btn-success" ng-click="addMessage()">Lisää viesti</button>
</form>
